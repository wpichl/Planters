{"version":3,"file":"use-window-size.dev.js","sources":["../../../node_modules/@react-hook/latest/src/index.tsx","../../../node_modules/@react-hook/throttle/src/index.tsx","../../../node_modules/@react-hook/passive-layout-effect/src/index.tsx","../../../node_modules/@react-hook/event/src/index.tsx","../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  storedValue.current = current\n  return storedValue\n}\n\nexport default useLatest\n","import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\nconst perf = typeof performance !== 'undefined' ? performance : Date\nconst now = () => perf.now()\n\nexport function useThrottleCallback<CallbackArguments extends any[]>(\n  callback: (...args: CallbackArguments) => void,\n  fps = 30,\n  leading = false\n): (...args: CallbackArguments) => void {\n  const storedCallback = useLatest(callback)\n  const ms = 1000 / fps\n  const prev = React.useRef(0)\n  const trailingTimeout = React.useRef<ReturnType<typeof setTimeout>>()\n  const clearTrailing = () =>\n    trailingTimeout.current && clearTimeout(trailingTimeout.current)\n  const deps = [fps, leading, storedCallback]\n\n  // Reset any time the deps change\n  React.useEffect(\n    () => () => {\n      prev.current = 0\n      clearTrailing()\n    },\n    deps\n  )\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments\n    const rightNow = now()\n    const call = () => {\n      prev.current = rightNow\n      clearTrailing()\n      storedCallback.current.apply(null, args as any)\n    }\n    const current = prev.current\n    // leading\n    if (leading && current === 0) return call()\n    // body\n    if (rightNow - current > ms) {\n      if (current > 0) return call()\n      prev.current = rightNow\n    }\n    // trailing\n    clearTrailing()\n    trailingTimeout.current = setTimeout(() => {\n      call()\n      prev.current = 0\n    }, ms)\n  }, deps)\n}\n\nexport function useThrottle<State>(\n  initialState: State | (() => State),\n  fps?: number,\n  leading?: boolean\n): [State, React.Dispatch<React.SetStateAction<State>>] {\n  const state = React.useState<State>(initialState)\n  return [state[0], useThrottleCallback(state[1], fps, leading)]\n}\n","import * as React from 'react'\n\nconst usePassiveLayoutEffect =\n  React[\n    typeof document !== 'undefined' && document.createElement !== void 0\n      ? 'useLayoutEffect'\n      : 'useEffect'\n  ]\n\nexport default usePassiveLayoutEffect\n","import * as React from 'react'\nimport useLayoutEffect from '@react-hook/passive-layout-effect'\nimport useLatest from '@react-hook/latest'\n\nfunction useEvent<\n  T extends Window = Window,\n  K extends keyof WindowEventMap = keyof WindowEventMap\n>(\n  target: Window | null,\n  type: K,\n  listener: WindowEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent<\n  T extends Document = Document,\n  K extends keyof DocumentEventMap = keyof DocumentEventMap\n>(\n  target: Document | null,\n  type: K,\n  listener: DocumentEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent<\n  T extends HTMLElement = HTMLElement,\n  K extends keyof HTMLElementEventMap = keyof HTMLElementEventMap\n>(\n  target: React.RefObject<T> | T | null,\n  type: K,\n  listener: ElementEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent(\n  target: any,\n  type: any,\n  listener: any,\n  cleanup: any = noop\n): void {\n  const storedListener = useLatest(listener)\n  const storedCleanup = useLatest(cleanup)\n\n  useLayoutEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target\n    if (!targetEl) return\n\n    const listener = function (this: any, ...args: any[]) {\n      storedListener.current.apply(this, args)\n    }\n\n    targetEl.addEventListener(type, listener)\n    const cleanup = storedCleanup.current\n\n    return () => {\n      targetEl.removeEventListener(type, listener)\n      cleanup()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type])\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() {}\n\nexport type ElementEventListener<\n  K extends keyof HTMLElementEventMap = keyof HTMLElementEventMap\n> = (this: HTMLElement, ev: HTMLElementEventMap[K]) => any\n\nexport type DocumentEventListener<\n  K extends keyof DocumentEventMap = keyof DocumentEventMap\n> = (this: Document, ev: DocumentEventMap[K]) => any\n\nexport type WindowEventListener<\n  K extends keyof WindowEventMap = keyof WindowEventMap\n> = (this: Document, ev: WindowEventMap[K]) => any\n\nexport default useEvent\n","/* eslint-disable import/no-extraneous-dependencies */\nimport {useThrottle} from '@react-hook/throttle'\nimport useEvent from '@react-hook/event'\n\nconst emptyObj = {}\n\nexport interface ThrottledWindowSizeOptions {\n  initialWidth?: number\n  initialHeight?: number\n  fps?: number\n  leading?: boolean\n}\n\nconst win = typeof window === 'undefined' ? null : window\nconst getSize = () =>\n  [\n    document.documentElement.clientWidth,\n    document.documentElement.clientHeight,\n  ] as const\n\nexport const useWindowSize = (\n  options: ThrottledWindowSizeOptions = emptyObj\n): readonly [number, number] => {\n  const {fps, leading, initialWidth = 0, initialHeight = 0} = options\n  const [size, setThrottledSize] = useThrottle<readonly [number, number]>(\n    /* istanbul ignore next */\n    typeof document === 'undefined' ? [initialWidth, initialHeight] : getSize,\n    fps,\n    leading\n  )\n  const setSize = (): void => setThrottledSize(getSize)\n\n  useEvent(win, 'resize', setSize)\n  useEvent(win, 'orientationchange', setSize)\n\n  return size\n}\n\nexport const useWindowHeight = (\n  options?: Omit<ThrottledWindowSizeOptions, 'initialWidth'>\n): number => useWindowSize(options)[1]\n\nexport const useWindowWidth = (\n  options?: Omit<ThrottledWindowSizeOptions, 'initialHeight'>\n): number => useWindowSize(options)[0]\n"],"names":["useLatest","current","storedValue","React","perf","performance","Date","now","useThrottleCallback","callback","fps","leading","storedCallback","ms","prev","trailingTimeout","clearTrailing","clearTimeout","deps","args","arguments","rightNow","call","apply","setTimeout","useThrottle","initialState","state","usePassiveLayoutEffect","document","createElement","useEvent","target","type","listener","cleanup","noop","storedListener","storedCleanup","useLayoutEffect","targetEl","addEventListener","removeEventListener","emptyObj","win","window","getSize","documentElement","clientWidth","clientHeight","useWindowSize","options","initialWidth","initialHeight","size","setThrottledSize","setSize","useWindowHeight","useWindowWidth"],"mappings":"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"}